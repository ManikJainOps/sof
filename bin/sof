#!/usr/bin/env ruby
require 'thor'
require_relative '../lib/sof/manifest'

class SofCommand < Thor
  method_option :manifest, required: true, type: :string, aliases: '-m', desc: 'specify manifest'
  desc 'check-server', 'Takes a list of servers (ADDRESS:TYPE) and a SSH port to check if they are on fire'
  def check_server
    puts Sof::Manifest.get(options[:manifest])
    rescue StandardError => e
      raise Thor::Error, e.message
  end
end

SofCommand.start
